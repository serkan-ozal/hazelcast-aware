<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Hazelcast-Aware by serkan-ozal</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Hazelcast-Aware</h1>
        <h2>Make your application aware of Hazelcast with Java Instrumentation API</h2>
        <a href="https://github.com/serkan-ozal/hazelcast-aware" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="1-what-is-hazelcast-aware" class="anchor" href="#1-what-is-hazelcast-aware"><span class="octicon octicon-link"></span></a>1. What is Hazelcast-Aware?</h1>

<p><strong>Hazelcast-Aware</strong> is a <strong>Java Instrumentation API</strong> based <strong>Hazelcast</strong> extension to use Hazelcast data structures (Distributed maps, lists, sets, queues, objects,  locks, topics, executers, entry listeners, etc ...) without interacting with <strong><code>HazelcastInstance</code></strong> class. You can specify which classes or fields will be Hazelcast aware by annotation or XML based configurations. <strong>Hazelcast-Aware</strong> scans classpath (classpath directories, dependent jar files and web application directories) of your application and finds Hazelcast aware classes and fields, then instruments them. Demo application is avaiable at <a href="https://github.com/serkan-ozal/hazelcast-aware-demo">https://github.com/serkan-ozal/hazelcast-aware-demo</a>.</p>

<h1>
<a name="2-usage" class="anchor" href="#2-usage"><span class="octicon octicon-link"></span></a>2. Usage</h1>

<p>To find and make thses classes or fields Hazelcast aware, there are two ways:</p>

<p>1) You just need to call explicitly making aware method at startup in anywhere of your application.</p>

<div class="highlight highlight-java"><pre><span class="o">...</span>

<span class="n">com</span><span class="o">.</span><span class="na">hazelcast</span><span class="o">.</span><span class="na">aware</span><span class="o">.</span><span class="na">HazelcastAwarer</span><span class="o">.</span><span class="na">makeHazelcastAware</span><span class="o">();</span>

<span class="o">...</span>
</pre></div>

<p>or</p>

<p>2) You can extend your main class from <strong><code>com.hazelcast.aware.HazelcastAware</code></strong> class.</p>

<div class="highlight highlight-java"><pre><span class="o">...</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareDemo</span> <span class="kd">extends</span> <span class="n">HazelcastAware</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="o">...</span>

    <span class="o">}</span>

<span class="o">}</span>   

<span class="o">...</span>
</pre></div>

<h1>
<a name="3-installation" class="anchor" href="#3-installation"><span class="octicon octicon-link"></span></a>3. Installation</h1>

<p>In your <code>pom.xml</code>, you must add repository and dependency for <strong>Hazelcast-Aware</strong>. 
You can change <code>hazelcast.aware.version</code> to any existing <strong>Hazelcast-Aware</strong> library version.
Latest version is <code>1.0.0</code>.</p>

<div class="highlight highlight-xml"><pre>...
<span class="nt">&lt;properties&gt;</span>
    ...
    <span class="nt">&lt;hazelcast.aware.version&gt;</span>1.0.0<span class="nt">&lt;/hazelcast.aware.version&gt;</span>
    ...
<span class="nt">&lt;/properties&gt;</span>
...
<span class="nt">&lt;dependencies&gt;</span>
    ...
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.hazelcast<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>hazelcast.aware<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>${hazelcast.aware.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    ...
<span class="nt">&lt;/dependencies&gt;</span>
...
<span class="nt">&lt;repositories&gt;</span>
    ...
    <span class="nt">&lt;repository&gt;</span>
        <span class="nt">&lt;id&gt;</span>serkanozal-maven-repository<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;url&gt;</span>https://github.com/serkan-ozal/maven-repository/raw/master/<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/repository&gt;</span>
    ...
<span class="nt">&lt;/repositories&gt;</span>
...
</pre></div>

<h1>
<a name="4-features" class="anchor" href="#4-features"><span class="octicon octicon-link"></span></a>4. Features</h1>

<h2>
<a name="41-default-configurations" class="anchor" href="#41-default-configurations"><span class="octicon octicon-link"></span></a>4.1. Default Configurations</h2>

<p>You can access object which holds default configurations by <strong><code>DefaultConfigs getDefaultConfigs()</code></strong> method of <strong><code>com.hazelcast.aware.config.manager.ConfigManager</code></strong> class. If you don't have configuration manager instance, you can access it by <strong><code>com.hazelcast.aware.config.manager.ConfigManagerFactory.getConfigManager()</code></strong>.</p>

<p>Here are default configurations:</p>

<ul>
<li>
<strong>Default Instance name:</strong> If there is no specified instance name for Hazelcast aware class or field, this instance name is used to get default Hazelcast instance. If there is no specified instance name for Hazelcast aware class or field and default instance name is empty in default configurations, the first instance is returned from <strong><code>com.hazelcast.instance.HazelcastInstanceFactory.getAllHazelcastInstances()</code></strong>.</li>
</ul><h2>
<a name="42-hazelcast-aware-class" class="anchor" href="#42-hazelcast-aware-class"><span class="octicon octicon-link"></span></a>4.2. Hazelcast-Aware Class</h2>

<p>You can make any class Hazelcast aware by annotating it with <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareClass</code></strong> annotation.</p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="o">...</span>
<span class="o">}</span>
</pre></div>

<ul>
<li>
<strong>Instance name:</strong>  You can associate Hazelcast aware class with specific Hazelcast instance by using <strong><code>instanceName</code></strong> attribute of <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareClass</code></strong> annotation. If you don't specified instance name, default Hazelcast instance is used.</li>
</ul><div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span><span class="o">(</span><span class="n">instanceName</span> <span class="o">=</span> <span class="s">"myHazelcastInstance"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="o">...</span>
<span class="o">}</span>
</pre></div>

<h2>
<a name="43-hazelcast-aware-field" class="anchor" href="#43-hazelcast-aware-field"><span class="octicon octicon-link"></span></a>4.3. Hazelcast-Aware Field</h2>

<p>You can make general configurations of any field defined in any Hazelcast aware class by annotating it with <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareField</code></strong> annotation.</p>

<ul>
<li>
<strong>Instance name:</strong> You can associate Hazelcast aware field with specific Hazelcast instance by using <strong><code>instanceName</code></strong> attribute of <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareField</code></strong> annotation. If you don't specify instance name, Hazelcast instance of owner class is used. If instance name is not defined for class also, default Hazelcast instance is used.</li>
</ul><div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareField</span><span class="o">(</span><span class="n">instanceName</span> <span class="o">=</span> <span class="s">"myHazelcastInstance"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">myMap</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<h2>
<a name="44-hazelcast-aware-map-typed-field" class="anchor" href="#44-hazelcast-aware-map-typed-field"><span class="octicon octicon-link"></span></a>4.4. Hazelcast-Aware Map Typed Field</h2>

<p>You can make any <strong><code>java.util.Map</code></strong> typed (or sub-typed) field, defined in any Hazelcast aware class, Hazelcast aware by annotating it with <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareMapField</code></strong> annotation.</p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareMapField</span>
    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">myMap</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<ul>
<li>
<strong>Map name:</strong>  You can associate this map field to any distributed map on Hazelcast cluster by using <strong><code>name</code></strong> attribute of <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareMapField</code></strong> annotation. If you don't specify map name, default map name is generated by using <strong><code>&lt;class_name&gt;_&lt;field_name&gt;</code></strong> format.</li>
</ul><div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareMapField</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"myMap"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">myMap</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<h2>
<a name="45-hazelcast-aware-list-typed-field" class="anchor" href="#45-hazelcast-aware-list-typed-field"><span class="octicon octicon-link"></span></a>4.5. Hazelcast-Aware List Typed Field</h2>

<p>You can make any <strong><code>java.util.List</code></strong> typed (or sub-typed) field, defined in any Hazelcast aware class, Hazelcast aware by annotating it with <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareListField</code></strong> annotation.</p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareListField</span>
    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">myList</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<ul>
<li>
<strong>List name:</strong>  You can associate this list field to any distributed list on Hazelcast cluster by using <strong><code>name</code></strong> attribute of <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareListField</code></strong> annotation. If you don't specify list name, default list name is generated by using <strong><code>&lt;class_name&gt;_&lt;field_name&gt;</code></strong> format.</li>
</ul><div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareListField</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"myList"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">myList</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<h2>
<a name="46-hazelcast-aware-set-typed-field" class="anchor" href="#46-hazelcast-aware-set-typed-field"><span class="octicon octicon-link"></span></a>4.6. Hazelcast-Aware Set Typed Field</h2>

<p>You can make any <strong><code>java.util.Set</code></strong> typed (or sub-typed) field, defined in any Hazelcast aware class, Hazelcast aware by annotating it with <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareSetField</code></strong> annotation.</p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareSetField</span>
    <span class="kd">private</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">mySet</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<ul>
<li>
<strong>Set name:</strong>  You can associate this set field to any distributed set on Hazelcast cluster by using <strong><code>name</code></strong> attribute of <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareSetField</code></strong> annotation. If you don't specify set name, default set name is generated by using <strong><code>&lt;class_name&gt;_&lt;field_name&gt;</code></strong> format.</li>
</ul><div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareSetField</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"mySet"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">mySet</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<h2>
<a name="47-hazelcast-aware-queue-typed-field" class="anchor" href="#47-hazelcast-aware-queue-typed-field"><span class="octicon octicon-link"></span></a>4.7. Hazelcast-Aware Queue Typed Field</h2>

<p>You can make any <strong><code>java.util.Queue</code></strong> typed (or sub-typed) field, defined in any Hazelcast aware class, Hazelcast aware by annotating it with <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareQueueField</code></strong> annotation.</p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareQueueField</span>
    <span class="kd">private</span> <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">myQueue</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<ul>
<li>
<strong>Queue name:</strong>  You can associate this queue field to any distributed queue on Hazelcast cluster by using <strong><code>name</code></strong> attribute of <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareQueueField</code></strong> annotation. If you don't specify queue name, default queue name is generated by using <strong><code>&lt;class_name&gt;_&lt;field_name&gt;</code></strong> format.</li>
</ul><div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareQueueField</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"myQueue"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">myQueue</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<h2>
<a name="48-hazelcast-aware-topic-typed-field" class="anchor" href="#48-hazelcast-aware-topic-typed-field"><span class="octicon octicon-link"></span></a>4.8. Hazelcast-Aware Topic Typed Field</h2>

<p>You can make any <strong><code>com.hazelcast.core.ITopic</code></strong> typed (or sub-typed) field, defined in any Hazelcast aware class, Hazelcast aware by annotating it with <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareTopicField</code></strong> annotation.</p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareTopicField</span>
    <span class="kd">private</span> <span class="n">ITopic</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">myTopic</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<ul>
<li>
<strong>Topic name:</strong>  You can associate this topic field to any distributed topic on Hazelcast cluster by using <strong><code>name</code></strong> attribute of <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareTopicField</code></strong> annotation. If you don't specify topic name, default topic name is generated by using <strong><code>&lt;class_name&gt;_&lt;field_name&gt;</code></strong> format.</li>
</ul><div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastAwareBean</span> <span class="o">{</span>

    <span class="nd">@HazelcastAwareTopicField</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"myTopic"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">ITopic</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">myTopic</span><span class="o">;</span>

    <span class="o">...</span>
<span class="o">}</span>   
</pre></div>

<h2>
<a name="49-hazelcast-aware-initializer" class="anchor" href="#49-hazelcast-aware-initializer"><span class="octicon octicon-link"></span></a>4.9. Hazelcast-Aware Initializer</h2>

<p>You can specify your custom initializer classes by implementing <strong><code>com.hazelcast.aware.initializer.HazelcastAwareInitializer</code></strong> interface to do some stuff before all operations such as setting default configurations in <strong><code>com.hazelcast.aware.config.DefaultConfigs</code></strong> class. Your custom initializer classes are found while scanning claspath and registered automatically. </p>

<p>You can specify execution order of your initializer by implementing <strong><code>int getOrder()</code></strong> method. There are three pre-defined execution orders such as <strong><code>HIGHEST_ORDER</code></strong>, <strong><code>ORDER_DOESNT_MATTER</code></strong> and <strong><code>LOWEST_ORDER</code></strong>. </p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyHazelcastAwareInitializer</span> <span class="kd">implements</span> <span class="n">HazelcastAwareInitializer</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getOrder</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">ORDER_DOESNT_MATTER</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">(</span><span class="n">ConfigManager</span> <span class="n">configManager</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">configManager</span><span class="o">.</span><span class="na">getDefaultConfigs</span><span class="o">().</span><span class="na">setDefaultInstanceName</span><span class="o">(</span><span class="s">"myInstance"</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>   
</pre></div>

<h2>
<a name="410-hazelcast-aware-injector" class="anchor" href="#410-hazelcast-aware-injector"><span class="octicon octicon-link"></span></a>4.10. Hazelcast-Aware Injector</h2>

<p>You can specify your custom injector classes by implementing <strong><code>com.hazelcast.aware.injector.HazelcastAwareInjector</code></strong> interface to do some stuff (injecting or whatever you want) on instances of Hazelcast aware classes. Your custom injector classes are found while scanning claspath and registered automatically. </p>

<p>Instance of injector class is called for every object creation of related class. </p>

<p>You must specify type of your related class to inject by implementing <strong><code>Class&lt;T&gt; getType()</code></strong> method. If you are interested in all types, you can return <strong><code>Object.class</code></strong> or pre-defined expression of it as <strong><code>TYPE_DOESNT_MATTER</code></strong> as type in  <strong><code>getType()</code></strong> method.</p>

<p>You can specify execution order of your injector by implementing <strong><code>int getOrder()</code></strong> method. There are three pre-defined execution orders such as <strong><code>HIGHEST_ORDER</code></strong>, <strong><code>ORDER_DOESNT_MATTER</code></strong> and <strong><code>LOWEST_ORDER</code></strong>. </p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyHazelcastAwareInjector</span> <span class="kd">implements</span> <span class="n">HazelcastAwareInjector</span><span class="o">&lt;</span><span class="n">MyEntity</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getOrder</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">ORDER_DOESNT_MATTER</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="n">Class</span><span class="o">&lt;</span><span class="n">MyEntity</span><span class="o">&gt;</span> <span class="nf">getType</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">MyEntity</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">inject</span><span class="o">(</span><span class="n">MyEntity</span> <span class="n">myEntity</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Do some stuff on MyEntity object</span>
    <span class="o">}</span>

<span class="o">}</span>   
</pre></div>

<h2>
<a name="411-hazelcast-aware-processor" class="anchor" href="#411-hazelcast-aware-processor"><span class="octicon octicon-link"></span></a>4.11. Hazelcast-Aware Processor</h2>

<p>You can specify your custom processor classes by implementing <strong><code>com.hazelcast.aware.processor.HazelcastAwareProcessor</code></strong> interface to do some stuff after instrumentation operations are done. Your custom processor classes are found while scanning claspath and registered automatically. </p>

<p>You can specify execution order of your processor by implementing <strong><code>int getOrder()</code></strong> method. There are three pre-defined execution orders such as <strong><code>HIGHEST_ORDER</code></strong>, <strong><code>ORDER_DOESNT_MATTER</code></strong> and <strong><code>LOWEST_ORDER</code></strong>. </p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyHazelcastAwareProcessor</span> <span class="kd">implements</span> <span class="n">HazelcastAwareprocessor</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getOrder</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">ORDER_DOESNT_MATTER</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">process</span><span class="o">(</span><span class="n">ConfigManager</span> <span class="n">configManager</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Do some stuff after instrumenting</span>
    <span class="o">}</span>

<span class="o">}</span>   
</pre></div>

<h2>
<a name="412-hazelcast-aware-config-provider" class="anchor" href="#412-hazelcast-aware-config-provider"><span class="octicon octicon-link"></span></a>4.12. Hazelcast-Aware Config Provider</h2>

<p>You can specify your custom configuration provider classes by implementing <strong><code>com.hazelcast.aware.config.provider.HazelcastAwareConfigProvider</code></strong> interface to provide Hazelcast cluster configurations (<strong><code>com.hazelcast.config.Config</code></strong>) to build Hazelcast cluster programmatically. Your custom configuration provider classes are found while scanning claspath and registered automatically.  </p>

<div class="highlight highlight-java"><pre><span class="nd">@HazelcastAwareClass</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HazelcastInstanceConfigProvider</span> <span class="kd">implements</span> <span class="n">HazelcastAwareConfigProvider</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Config</span><span class="o">&gt;</span> <span class="n">configs</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Config</span><span class="o">&gt;();</span>

    <span class="kd">public</span> <span class="nf">HazelcastInstanceConfigProvider</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">init</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">    &lt;hz:config&gt;</span>
<span class="cm">       &lt;!-- Hazelcast Instance Name --&gt;</span>
<span class="cm">       &lt;hz:instance-name&gt;hazelcast-aware-demo-instance&lt;/hz:instance-name&gt;</span>
<span class="cm">       &lt;!-- Hazelcast Group Name and Password --&gt;</span>
<span class="cm">       &lt;hz:group name="hazelcast-aware-demo" password="$$$_hazelcast-aware-demo_$$$" /&gt;</span>
<span class="cm">       &lt;!-- Hazelcast Network Configuration --&gt;</span>
<span class="cm">       &lt;hz:network port="5701" port-auto-increment="true"&gt;</span>
<span class="cm">           &lt;hz:join&gt;</span>
<span class="cm">               &lt;hz:multicast enabled="true"/&gt;</span>
<span class="cm">               &lt;hz:tcp-ip enabled="false"/&gt;</span>
<span class="cm">           &lt;/hz:join&gt;</span>
<span class="cm">       &lt;/hz:network&gt;</span>
<span class="cm">    &lt;/hz:config&gt;</span>
<span class="cm">    */</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Config</span> <span class="n">config</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Config</span><span class="o">();</span>
        <span class="n">config</span><span class="o">.</span><span class="na">setInstanceName</span><span class="o">(</span><span class="s">"hazelcast-aware-demo-instance"</span><span class="o">);</span>
        <span class="n">config</span><span class="o">.</span><span class="na">setGroupConfig</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">GroupConfig</span><span class="o">(</span>
                        <span class="s">"hazelcast-aware-demo"</span><span class="o">,</span> 
                        <span class="s">"$$$_hazelcast-aware-demo_$$$"</span><span class="o">));</span>
        <span class="n">config</span><span class="o">.</span><span class="na">setNetworkConfig</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">NetworkConfig</span><span class="o">().</span>
                        <span class="n">setPort</span><span class="o">(</span><span class="mi">5701</span><span class="o">).</span>
                        <span class="n">setPortAutoIncrement</span><span class="o">(</span><span class="kc">true</span><span class="o">).</span>
                        <span class="n">setJoin</span><span class="o">(</span>
                                <span class="k">new</span> <span class="nf">JoinConfig</span><span class="o">().</span>
                                        <span class="n">setMulticastConfig</span><span class="o">(</span>
                                                <span class="k">new</span> <span class="nf">MulticastConfig</span><span class="o">().</span>
                                                        <span class="n">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">))));</span>
        <span class="n">configs</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">config</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Config</span><span class="o">&gt;</span> <span class="nf">provideConfigs</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">configs</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>   
</pre></div>

<h1>
<a name="5-lifecycle" class="anchor" href="#5-lifecycle"><span class="octicon octicon-link"></span></a>5. Lifecycle</h1>

<p>Lifecycle of operations done by Hazelcast-Aware are as follows:</p>

<p><strong>1.</strong> Find all Hazelcast aware classes (annotated by <strong><code>com.hazelcast.aware.config.provider.annotation.HazelcastAwareClass</code></strong> annotation and specificed at XML or properties configuration files).</p>

<p><strong>2.</strong> Find all Hazelcast aware initializer classes between Hazelcast aware classes and execute them. </p>

<p><strong>3.</strong> Do instrumentation over found Hazelcast aware classes.</p>

<p><strong>4.</strong> Find all Hazelcast aware configuration provider classes between Hazelcast aware classes, get Hazelcast cluster configurations from them and create Hazelcast clusters with these configurations. </p>

<p><strong>5.</strong> Find all Hazelcast aware processor classes between Hazelcast aware classes and execute them. </p>

<h1>
<a name="6-roadmap" class="anchor" href="#6-roadmap"><span class="octicon octicon-link"></span></a>6. Roadmap</h1>

<ul>
<li><p>Distributed lock (<strong><code>ILock</code></strong>) will be supported.</p></li>
<li><p>Distributed object will be supported.</p></li>
<li><p>Distributed semaphore (<strong><code>Semaphore</code></strong>) will be supported.</p></li>
<li><p>Entry/Item listeners (for maps, lists, sets, ...) will be supported.</p></li>
<li><p>Message listener for (<strong><code>ITopic</code></strong>) will be supported.</p></li>
<li><p>Executor service will be supported.</p></li>
<li><p>XML based configuration will be supported.</p></li>
<li><p>Properties file based configuration will be supported.</p></li>
<li><p>Caching will be supported.</p></li>
</ul>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/serkan-ozal/hazelcast-aware/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/serkan-ozal/hazelcast-aware/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/serkan-ozal/hazelcast-aware"></a> is maintained by <a href="https://github.com/serkan-ozal">serkan-ozal</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>